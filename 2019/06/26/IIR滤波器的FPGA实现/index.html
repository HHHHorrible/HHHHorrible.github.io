<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="IIR滤波器的FPGA实现生产实习著此篇实现的是直接1型7阶切比雪夫1型低通滤波器">
<meta name="keywords" content="FPGA ML">
<meta property="og:type" content="article">
<meta property="og:title" content="IIR滤波器的FPGA实现">
<meta property="og:url" content="https://blog.csdn.net/weixin_38071135/2019/06/26/IIR滤波器的FPGA实现/index.html">
<meta property="og:site_name" content="何伟宝的后花园">
<meta property="og:description" content="IIR滤波器的FPGA实现生产实习著此篇实现的是直接1型7阶切比雪夫1型低通滤波器">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://i.loli.net/2019/06/26/5d12f28a9b45795946.png">
<meta property="og:image" content="https://i.loli.net/2019/06/26/5d12f30709cc361997.png">
<meta property="og:image" content="https://i.loli.net/2019/06/26/5d12f4041728f16181.png">
<meta property="og:image" content="https://i.loli.net/2019/06/26/5d12f656cedcd27954.png">
<meta property="og:image" content="https://i.loli.net/2019/06/26/5d12fc4f37ec571189.png">
<meta property="og:image" content="https://i.loli.net/2019/06/26/5d12fe6fc312e92869.png">
<meta property="og:updated_time" content="2019-10-12T10:05:20.868Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IIR滤波器的FPGA实现">
<meta name="twitter:description" content="IIR滤波器的FPGA实现生产实习著此篇实现的是直接1型7阶切比雪夫1型低通滤波器">
<meta name="twitter:image" content="https://i.loli.net/2019/06/26/5d12f28a9b45795946.png">
  <link rel="canonical" href="https://blog.csdn.net/weixin_38071135/2019/06/26/IIR滤波器的FPGA实现/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>IIR滤波器的FPGA实现 | 何伟宝的后花园</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a379268dd5f327d467ed17a9a9be106b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">何伟宝的后花园</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">今日你学左米啊</p>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
        
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      
    
  </ul>

    

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.csdn.net/weixin_38071135/2019/06/26/IIR滤波器的FPGA实现/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="He Wei Bao">
      <meta itemprop="description" content="认识到了自己的无知,才能真正认识世界">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何伟宝的后花园">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            IIR滤波器的FPGA实现
            

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-06-26 13:22:01" itemprop="dateCreated datePublished" datetime="2019-06-26T13:22:01+08:00">2019-06-26</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-10-12 18:05:20" itemprop="dateModified" datetime="2019-10-12T18:05:20+08:00">2019-10-12</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/FPGA-DSP/" itemprop="url" rel="index">
                    <span itemprop="name">FPGA DSP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2019/06/26/IIR滤波器的FPGA实现/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/06/26/IIR滤波器的FPGA实现/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="IIR滤波器的FPGA实现"><a href="#IIR滤波器的FPGA实现" class="headerlink" title="IIR滤波器的FPGA实现"></a>IIR滤波器的FPGA实现</h1><p>生产实习著<br>此篇实现的是直接1型7阶切比雪夫1型低通滤波器</p>
<a id="more"></a>
<p>[TOC]</p>
<h2 id="IIR原理"><a href="#IIR原理" class="headerlink" title="IIR原理"></a>IIR原理</h2><h3 id="IIR定义"><a href="#IIR定义" class="headerlink" title="IIR定义"></a>IIR定义</h3><p>IIR（Infinite Impulse Response）无限脉冲响应数字滤波器,也叫作递归滤波器.<br>由差分方程:<br>$$ y(n) = \sum^M_{i=0}b_i x(n-i) -  \sum^N_{i=1}a_i y(n-i)$$<br>进行Z变换:<br>$$<br>Y(z)=\sum_{i=0}^{M} b_{i} z^{-i} X(z)-\sum_{i=1}^{N} a_{i} z^{-i} Y(z)<br>$$<br>得到系统函数:<br>$$<br>H(z)=\frac{Y(z)}{X(z)}=\frac{\sum_{i=0}^{M} b_{i} z^{-i}}{1+\sum_{i=1}^{N} a_{i} z^{-i}}<br>$$<br>至于为什么叫IIR,和FIR有什么区别,大家做一下z逆变换就知道了</p>
<h3 id="模拟滤波器设计"><a href="#模拟滤波器设计" class="headerlink" title="模拟滤波器设计"></a>模拟滤波器设计</h3><p>要提及到模拟滤波器设计的理由很简单,就是因为设计IIR的一般是先设计好相应的模拟滤波器,然后再利用双线性变换转换成数字滤波器,在这里我们介绍一个切比雪夫1型滤波器:<br>他的幅度平方函数长这个样:<br>$$<br>G_{n}(\omega)=\left|H_{n}(j \omega)\right|=\frac{1}{\sqrt{1+\epsilon^{2} T_{n}^{2}\left(\frac{\omega}{\omega_{0}}\right)}}<br>$$<br>当$\omega = \omega_0$时有:<br>$$<br>\left|H\left(\omega_{0}\right)\right|=\frac{1}{\sqrt{1+\epsilon^{2}}}<br>$$<br>其中,$T_{n}\left(\frac{\omega}{\omega_{0}}\right)$是n阶切比雪夫多项式,定义为:<br>$$<br>\begin{cases}<br>T_{n}\left(\frac{\omega}{\omega_{0}}\right)=\cos \left(n \cdot \arccos \frac{\omega}{\omega_{0}}\right) ; 0 \leq \omega \leq \omega_{0}\<br>T_{n}\left(\frac{\omega}{\omega_{0}}\right)=\cosh \left(n \cdot \operatorname{arccosh} \frac{\omega}{\omega_{0}}\right) ; \omega&gt;\omega_{0}<br>\end{cases}<br>$$<br>当0&lt;x&lt;1时，$T_{n}(x)$在0和1之间变化 ;当x&gt;1时，cos−是虚数，所以$T_{n}(x)$像双曲余弦一样单调地增加;∣Hn(w)∣对于0≤w/w0≤1呈现出在1和$\frac1{2\epsilon^2}$之间的<strong>波动</strong>；而对于w/w0〉1单调地减小。需要用三个参量来确定该滤波器：ε，w0和N。在典型的设计中，用容许的通带波纹来确定ε，而用希望的通带截止频率来确定w0。然后选择合适的阶次n，以便阻带的技术要求得到满足。</p>
<p>上述的 滤波器设计原理看不懂没关系,因为模拟滤波器设计理论已经非常成熟了,所以我们可以借助matlab来解决<br>详见:Matlab的<a href="https://ww2.mathworks.cn/help/signal/ug/iir-filter-design.html" target="_blank" rel="noopener">IIR Filter Design</a></p>
<p>除此之外,常见的模拟滤波器还有巴特沃斯,切比雪夫2型,椭圆型滤波器等,此处不做详述</p>
<h3 id="双线性变换"><a href="#双线性变换" class="headerlink" title="双线性变换"></a>双线性变换</h3><p>这是利用反正切的方法将s域投影到z域,理解思路有很多种,大家不妨多方查阅一下资料,这里直接给出转换公式:<br>$$H(z)=H_{a}\left.(s)\right|<em>{s=\frac{2}{T</em>{s}} \frac{1-z^{-1}}{1+z^{-1}}}$$</p>
<h2 id="IIR系统结构"><a href="#IIR系统结构" class="headerlink" title="IIR系统结构"></a>IIR系统结构</h2><p>实际上从IIR的定义我们就可以直接得到直接1型:<br><img src="https://i.loli.net/2019/06/26/5d12f28a9b45795946.png" alt="a"></p>
<p>我们不妨将ab调转过来,合并延时器,就可以得到直接2型:<br><img src="https://i.loli.net/2019/06/26/5d12f30709cc361997.png" alt="b"></p>
<p>不妨将系统函数定义式做一点变换,拆开每项系数:<br>$$<br>H(z)=\frac{Y(z)}{X(z)}=\frac{\sum_{i=0}^{M} b_{i} z^{-i}}{1+\sum_{i=1}^{N} a_{i} z^{-i}}<br>$$<br>to:<br>$$<br>H(z)=\prod_{i=1}^{L} \frac{\gamma_{0 i}+\gamma_{1 i} z^{-1}+\gamma_{2 i} z^{-2}}{1+\beta_{1 i} z^{-1}+\beta_{2 i} z^{-2}}=A \prod_{i=1}^{L} \frac{1+\alpha_{1 i} z^{-1}+\alpha_{2 i} z^{-2}}{1+\beta_{1 i} z^{-1}+\beta_{2 i} z^{-2}}=A \prod_{i=1}^{L} H_{i}(z)<br>$$<br>得到每一个子系统$H_i(z)$,就可以用直接12型来表征子系统,然后再串起来,比如:<br><img src="https://i.loli.net/2019/06/26/5d12f4041728f16181.png" alt="c"></p>
<hr>
<h2 id="FPGA实现"><a href="#FPGA实现" class="headerlink" title="FPGA实现"></a>FPGA实现</h2><p>这里实现的是直接1型7阶切比雪夫1型低通滤波器.思路很简单,直接将ab两路当成两个FIR滤波器就完事了</p>
<h3 id="MATLAB-获取系数"><a href="#MATLAB-获取系数" class="headerlink" title="MATLAB 获取系数"></a>MATLAB 获取系数</h3><p>获取系数有两种方法:<br>    1. 利用函数cheby1,cheby2和butter等函数进行设计,建议回看我上面的matlab设计iir的帮助页面<br>    2. 利用滤波器设计工具箱 filterDesigner<br>此处为了直观使用filterDesigner,设计完之后是这样的:<br><img src="https://i.loli.net/2019/06/26/5d12f656cedcd27954.png" alt="d"><br>直接点Design Filter是设计出来的是直接2型的SOS(second-order sections)版也就是级联型.我们需要</p>
<ol>
<li>Edit-&gt; Convert Structure  选Direct-Form I SOS</li>
<li>Edit-&gt; Convert to Single Section </li>
<li>Ctrl +e (File-&gt;Export)导出系数</li>
</ol>
<p>如果不慎生成了SOS的话,也可以在命令行中输入:</p>
<blockquote>
<p>[Num,Den] = sos2tf(SOS,G);<br>进行转换,其中Num(numerator)为分子,Den(Denominator)为分母</p>
</blockquote>
<p>然后对系数进行量化:</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Num = <span class="built_in">round</span>(Num*<span class="number">2</span>^<span class="number">9</span>);      <span class="comment">%最大值是2.8多,建议思考为什么是512</span></span><br><span class="line">Den = <span class="built_in">round</span>(Den*<span class="number">2</span>^<span class="number">9</span>);</span><br></pre></td></tr></table></figure>

<h3 id="FPGA实现FIR滤波器"><a href="#FPGA实现FIR滤波器" class="headerlink" title="FPGA实现FIR滤波器"></a>FPGA实现FIR滤波器</h3><p>可以见我前面的<a href="https://blog.csdn.net/weixin_38071135/article/details/85086468">FPGA/Verilog 设计FIR滤波器</a><br>我这里为了重定义系数和后续好改成SOS,做了一些小功夫和去除了累加器,自己写了个加法树.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> fir_7</span><br><span class="line">#(<span class="keyword">parameter</span> WIDTH=<span class="number">4'd12</span> , c0 = <span class="number">12'b0</span> , c1 = <span class="number">12'b0</span> , c2 = <span class="number">12'b0</span> , c3 = <span class="number">12'b0</span> , c4 = <span class="number">12'b0</span> , c5=<span class="number">12'b0</span> , c6=<span class="number">12'b0</span> ,c7=<span class="number">12'b0</span> )</span><br><span class="line">(</span><br><span class="line"><span class="keyword">input</span> rst_n ,</span><br><span class="line"><span class="keyword">input</span> clk   ,</span><br><span class="line"><span class="keyword">input</span> <span class="keyword">signed</span> [WIDTH-<span class="number">1'b1</span>:<span class="number">0</span>] din,</span><br><span class="line"><span class="keyword">output</span> <span class="keyword">signed</span> [<span class="number">2</span>*WIDTH+<span class="number">2</span>:<span class="number">0</span>] dout</span><br><span class="line">);</span><br><span class="line"><span class="keyword">integer</span> i=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">integer</span> j=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [WIDTH-<span class="number">1'b1</span>:<span class="number">0</span>] din_delay[<span class="number">7</span>:<span class="number">0</span>];</span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i =i+<span class="number">1</span>)</span><br><span class="line">			din_delay[i] &lt;= <span class="number">'b0</span>;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;<span class="number">8</span>;i =i+<span class="number">1</span>)</span><br><span class="line">			din_delay[i] &lt;= din_delay[i-<span class="number">1</span>];</span><br><span class="line">		din_delay[<span class="number">0</span>] &lt;= din;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [<span class="number">2</span>*WIDTH-<span class="number">1'b1</span>:<span class="number">0</span>] din_mult[<span class="number">7</span>:<span class="number">0</span>];</span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">8</span>;j =j+<span class="number">1</span>)</span><br><span class="line">			din_mult[j] &lt;= <span class="number">'b0</span>;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">		din_mult[<span class="number">0</span>] &lt;= din_delay[<span class="number">0</span>]*c0;</span><br><span class="line">		din_mult[<span class="number">1</span>] &lt;= din_delay[<span class="number">1</span>]*c1;</span><br><span class="line">		din_mult[<span class="number">2</span>] &lt;= din_delay[<span class="number">2</span>]*c2;</span><br><span class="line">		din_mult[<span class="number">3</span>] &lt;= din_delay[<span class="number">3</span>]*c3;</span><br><span class="line">		din_mult[<span class="number">4</span>] &lt;= din_delay[<span class="number">4</span>]*c4;</span><br><span class="line">		din_mult[<span class="number">5</span>] &lt;= din_delay[<span class="number">5</span>]*c5;</span><br><span class="line">		din_mult[<span class="number">6</span>] &lt;= din_delay[<span class="number">6</span>]*c6;</span><br><span class="line">		din_mult[<span class="number">7</span>] &lt;= din_delay[<span class="number">7</span>]*c7;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [<span class="number">2</span>*WIDTH:<span class="number">0</span>] din_mult1[<span class="number">3</span>:<span class="number">0</span>];</span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [<span class="number">2</span>*WIDTH+<span class="number">1</span>:<span class="number">0</span>] din_mult2[<span class="number">1</span>:<span class="number">0</span>];</span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [<span class="number">2</span>*WIDTH+<span class="number">2</span>:<span class="number">0</span>] din_mult3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">if</span>(!rst_n)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			din_mult1[<span class="number">0</span>] &lt;= <span class="number">'b0</span>;din_mult1[<span class="number">1</span>] &lt;= <span class="number">'b0</span>;din_mult1[<span class="number">2</span>] &lt;= <span class="number">'b0</span>;din_mult1[<span class="number">3</span>] &lt;= <span class="number">'b0</span>;</span><br><span class="line">			din_mult2[<span class="number">0</span>] &lt;= <span class="number">'b0</span>;din_mult2[<span class="number">1</span>] &lt;= <span class="number">'b0</span>;din_mult3	 &lt;= <span class="number">'b0</span>;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">		din_mult1[<span class="number">0</span>] &lt;= din_mult[<span class="number">0</span>] + din_mult[<span class="number">1</span>];</span><br><span class="line">		din_mult1[<span class="number">1</span>] &lt;= din_mult[<span class="number">2</span>] + din_mult[<span class="number">5</span>];</span><br><span class="line">		din_mult1[<span class="number">2</span>] &lt;= din_mult[<span class="number">3</span>] + din_mult[<span class="number">6</span>];</span><br><span class="line">		din_mult1[<span class="number">3</span>] &lt;= din_mult[<span class="number">4</span>] + din_mult[<span class="number">7</span>];</span><br><span class="line">		</span><br><span class="line">		din_mult2[<span class="number">0</span>] &lt;= din_mult1[<span class="number">0</span>] + din_mult1[<span class="number">1</span>];</span><br><span class="line">		din_mult2[<span class="number">1</span>] &lt;= din_mult1[<span class="number">2</span>] + din_mult1[<span class="number">3</span>];</span><br><span class="line">		</span><br><span class="line">		din_mult3    &lt;= din_mult2[<span class="number">0</span>] + din_mult2[<span class="number">1</span>];</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">assign</span> dout = din_mult3;</span><br><span class="line">		</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="FPGA根据系统框图连线"><a href="#FPGA根据系统框图连线" class="headerlink" title="FPGA根据系统框图连线"></a>FPGA根据系统框图连线</h3><p>这里比较简单,就给出个关键部分吧:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">fir_7 </span><br><span class="line"><span class="variable">#(.WIDTH(4'd12)</span>,</span><br><span class="line"> <span class="variable">.c0</span>(<span class="number">12'd1</span>), <span class="variable">.c1</span>(<span class="number">12'd7</span>), <span class="variable">.c2</span>(<span class="number">12'd21</span>), <span class="variable">.c3</span> (<span class="number">12'd36</span>),</span><br><span class="line"> <span class="variable">.c4</span>(<span class="number">12'd36</span>), <span class="variable">.c5</span>(<span class="number">12'd21</span>), <span class="variable">.c6</span>(<span class="number">12'd7</span>) ,<span class="variable">.c7</span>(<span class="number">12'd1</span>))</span><br><span class="line">zero (</span><br><span class="line"><span class="variable">.rst_n</span>(RST_N),</span><br><span class="line"><span class="variable">.clk</span>(CLK_50M),</span><br><span class="line"><span class="variable">.din</span>(Yin),</span><br><span class="line"><span class="variable">.dout</span>(Yout)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">fir_7 </span><br><span class="line"><span class="variable">#(.WIDTH(4'd12)</span>,</span><br><span class="line"> <span class="variable">.c0</span>(<span class="number">12'd256</span>) , <span class="variable">.c1</span>(-<span class="number">12'd510</span>), <span class="variable">.c2</span>(<span class="number">12'd875</span>), <span class="variable">.c3</span> (-<span class="number">12'd971</span>),</span><br><span class="line"> <span class="variable">.c4</span>(<span class="number">12'd838</span>), <span class="variable">.c5</span>(-<span class="number">12'd527</span>), <span class="variable">.c6</span>(<span class="number">12'd231</span>) , <span class="variable">.c7</span>(-<span class="number">12'd61</span>))</span><br><span class="line">poly (</span><br><span class="line"><span class="variable">.rst_n</span>(RST_N),</span><br><span class="line"><span class="variable">.clk</span>(CLK_50M),</span><br><span class="line"><span class="variable">.din</span>(din),</span><br><span class="line"><span class="variable">.dout</span>(Xout)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>最终生成的框图是这样的:<br><img src="https://i.loli.net/2019/06/26/5d12fc4f37ec571189.png" alt="e"></p>
<h3 id="MATLAB生成仿真数据"><a href="#MATLAB生成仿真数据" class="headerlink" title="MATLAB生成仿真数据"></a>MATLAB生成仿真数据</h3><p>由于上几次的博客生成仿真数据的脚本不怎么好用,所以找了一个更好的jio本:</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">%=============设置系统参数==============%</span></span><br><span class="line"><span class="comment">%f1=1e6;        %设置波形频率</span></span><br><span class="line">f2=<span class="number">200e3</span>;</span><br><span class="line">f3=<span class="number">1000e3</span>;</span><br><span class="line">Fs=<span class="number">10e6</span>;        <span class="comment">%设置采样频率</span></span><br><span class="line">L=<span class="number">4096</span>;         <span class="comment">%数据长度</span></span><br><span class="line">N=<span class="number">12</span>;           <span class="comment">%数据位宽</span></span><br><span class="line"><span class="comment">%=============产生输入信号==============%</span></span><br><span class="line">t=<span class="number">0</span>:<span class="number">1</span>/Fs:(<span class="number">1</span>/Fs)*(L<span class="number">-1</span>);</span><br><span class="line"><span class="comment">%y1=sin(2*pi*f1*t);</span></span><br><span class="line">y2=<span class="number">0.5</span>*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*f2*t);</span><br><span class="line">y3=<span class="number">0.5</span>*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*f3*t);</span><br><span class="line"><span class="comment">%y4=y1+y2+y3;</span></span><br><span class="line">y4= y2+y3;</span><br><span class="line">y_n=<span class="built_in">round</span>(y4*(<span class="number">2</span>^(N<span class="number">-2</span>)<span class="number">-1</span>));      <span class="comment">%N比特量化;如果有n个信号相加，则设置（N-n）</span></span><br><span class="line"><span class="comment">%=================画图==================%</span></span><br><span class="line">a=<span class="number">10</span>;           <span class="comment">%改变系数可以调整显示周期</span></span><br><span class="line">stem(t,y_n);</span><br><span class="line">axis([<span class="number">0</span> L/Fs/a <span class="number">-2</span>^N <span class="number">2</span>^N]);      <span class="comment">%显示</span></span><br><span class="line"><span class="comment">%=============写入外部文件==============%</span></span><br><span class="line">fid=fopen(<span class="string">'sinx.txt'</span>,<span class="string">'w'</span>);    <span class="comment">%把数据写入sin_data.txt文件中，如果没有就创建该文件  </span></span><br><span class="line"><span class="keyword">for</span> k=<span class="number">1</span>:<span class="built_in">length</span>(y_n)</span><br><span class="line">    B_s=dec2bin(y_n(k)+((y_n(k))&lt;<span class="number">0</span>)*<span class="number">2</span>^N,N);</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:N</span><br><span class="line">        <span class="keyword">if</span> B_s(<span class="built_in">j</span>)==<span class="string">'1'</span></span><br><span class="line">            tb=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            tb=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        fprintf(fid,<span class="string">'%d'</span>,tb);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    fprintf(fid,<span class="string">'\r\n'</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">fprintf(fid,<span class="string">';'</span>);</span><br><span class="line">fclose(fid);</span><br></pre></td></tr></table></figure>

<h3 id="写testbeach"><a href="#写testbeach" class="headerlink" title="写testbeach"></a>写testbeach</h3><p>这里只给出读取数据部分:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">integer</span> i;   <span class="comment">//数组坐标</span></span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [<span class="number">11</span>:<span class="number">0</span>] stimulus[<span class="number">1</span>:data_num];  <span class="comment">//数组形式存储读出的数据</span></span><br><span class="line"><span class="keyword">initial</span> </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    RST_N = <span class="number">1'b1</span>;</span><br><span class="line">	#<span class="number">60</span> RST_N = <span class="number">1'b0</span>;</span><br><span class="line">	#<span class="number">60</span> RST_N = <span class="number">1'b1</span>; </span><br><span class="line">    <span class="built_in">$readmemb</span>(<span class="string">"sinx.txt"</span>, stimulus);  <span class="comment">//将txt文件中的数据存储在数组中</span></span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">repeat</span>(data_num*<span class="number">10</span>) <span class="keyword">begin</span>   <span class="comment">//重复读取数组中的数据</span></span><br><span class="line">        i = i + <span class="number">1</span>;</span><br><span class="line">        din = stimulus[i%data_num]; </span><br><span class="line">        #PERIOD;         <span class="comment">//每个时钟读取一次</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">	 <span class="built_in">$stop</span>;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h2 id="仿真结果"><a href="#仿真结果" class="headerlink" title="仿真结果"></a>仿真结果</h2><p><img src="https://i.loli.net/2019/06/26/5d12fe6fc312e92869.png" alt="tg"><br>后仿在1.2V 0度模型下最高运行速率180Mhz(板子最高200M)</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>因为生产实习和电赛,最近不得不备一些这种小东西,会一直更新到7.26号,各位看官有兴趣的可以追踪一下.</p>
<p>如果csdn再不加入对verilog的支持,我就举家搬迁到简书或者自己搭一个博客了.</p>
<p><a href="https://blog.csdn.net/weixin_38071135/article/details/83039402">如果你觉得有丶收获的话</a></p>

    </div>

    
    
    
        
      

      <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/06/12/一些Verilog的小东西/" rel="next" title="一些Verilog的小东西">
                  <i class="fa fa-chevron-left"></i> 一些Verilog的小东西
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/07/05/基于FPGA的两路信号发生器/" rel="prev" title="基于FPGA的两路信号发生器">
                  基于FPGA的两路信号发生器 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
    <div class="comments" id="comments"></div>
  

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#IIR滤波器的FPGA实现"><span class="nav-number">1.</span> <span class="nav-text">IIR滤波器的FPGA实现</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#IIR原理"><span class="nav-number">1.1.</span> <span class="nav-text">IIR原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IIR定义"><span class="nav-number">1.1.1.</span> <span class="nav-text">IIR定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模拟滤波器设计"><span class="nav-number">1.1.2.</span> <span class="nav-text">模拟滤波器设计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#双线性变换"><span class="nav-number">1.1.3.</span> <span class="nav-text">双线性变换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IIR系统结构"><span class="nav-number">1.2.</span> <span class="nav-text">IIR系统结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FPGA实现"><span class="nav-number">1.3.</span> <span class="nav-text">FPGA实现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MATLAB-获取系数"><span class="nav-number">1.3.1.</span> <span class="nav-text">MATLAB 获取系数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FPGA实现FIR滤波器"><span class="nav-number">1.3.2.</span> <span class="nav-text">FPGA实现FIR滤波器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FPGA根据系统框图连线"><span class="nav-number">1.3.3.</span> <span class="nav-text">FPGA根据系统框图连线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MATLAB生成仿真数据"><span class="nav-number">1.3.4.</span> <span class="nav-text">MATLAB生成仿真数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#写testbeach"><span class="nav-number">1.3.5.</span> <span class="nav-text">写testbeach</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#仿真结果"><span class="nav-number">1.4.</span> <span class="nav-text">仿真结果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#结语"><span class="nav-number">1.5.</span> <span class="nav-text">结语</span></a></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">He Wei Bao</p>
  <div class="site-description" itemprop="description">认识到了自己的无知,才能真正认识世界</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">46</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
    
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/HHHHorrible" title="GitHub &rarr; https://github.com/HHHHorrible" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/weixin_38071135" title="https://blog.csdn.net/weixin_38071135">CSDN</a>
        </li>
      
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        


<div class="copyright">
  &copy; 2016 – 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">He Wei Bao</span>
</div>
  <span class="post-meta-divider">|</span>


<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共71k字</span>
</div>
<span id="busuanzi_container_site_pv" style='display:none'>
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>

<span id="busuanzi_container_site_uv" style='display:none'>
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>

        












        
      </div>
    </footer>
  </div>

  
    
  
  <script color='0,0,0' opacity='0.55' zIndex='-1' count='189' src="/lib/canvas-nest/canvas-nest-nomobile.min.js"></script>
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/muse.js?v=7.4.1"></script>

<script src="/js/next-boot.js?v=7.4.1"></script>



  





















  

  
    
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  


<script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'Je2dWN05DHNOQvY3sv9Wdmjr-gzGzoHsz',
    appKey: 'x0onFKIleViD7EDdyuWKISyN',
    placeholder: 'ヾﾉ≧∀≦)o 来呀！快活呀！~',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: 'zh-cn' || 'zh-cn',
    path: location.pathname,
    recordIP: false,
    serverURLs: ''
  });
}, window.Valine);
</script>

</body>
</html>
